<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button color="dark"></ion-menu-button>
    </ion-buttons>
    <ion-title>Registrar nuevo usuario</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content class="ion-text-center">
    <mat-card class="login-card">
    <ion-row>
      <ion-col size="12" size-md="6" offset-md="3" class="field-col">
          <form [formGroup]="signupForm" (ngSubmit)="onSignup()" autocomplete="off">
            <mat-card-content>

              <mat-form-field class="email-container">
                <input matInput placeholder="Correo electrónico" formControlName="email">
                <mat-error *ngIf="(signupForm.controls.email.statusChanges | async)!=='valid'">Correo electrónico no valido.
                </mat-error>
              </mat-form-field>

              <mat-form-field>
                <input matInput placeholder="Password" [type]="hide ? 'password' : 'text'"
                  formControlName="password">
                <mat-icon matSuffix (click)="hide = !hide">{{ hide ? 'visibility' : 'visibility_off'}}</mat-icon>
                <mat-error *ngIf="true || (signupForm.controls.password.statusChanges | async) !== 'valid'">
                  Password invalido. Demasiado corto.
                </mat-error>
                
              </mat-form-field>


            </mat-card-content>
            <mat-card-actions>
              <button mat-raised-button *ngIf="!isLoading" type="submit" expand="block" color="primary">REGISTRAR USUARIO</button>
              <mat-spinner *ngIf="isLoading"></mat-spinner>
            </mat-card-actions>
          </form>
        </ion-col>
      </ion-row>
    </mat-card>

</ion-content>